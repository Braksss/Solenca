/* --- Variables --- */
$primary-orange: #ff8700;
$light-orange-bg: #fff5e6;
$dark-text: #212121; // Un noir plus doux que #000
$light-text: #757575;
$background-color: #ffffff;
$border-color: #eeeeee;
$border-radius: 16px;
$shell-width: 1100px;

/* --- Animation --- */
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(15px); }
    to { opacity: 1; transform: translateY(0); }
}

/* --- Structure générale --- */
.abo-page-final {
    background-color: $background-color;
    font-family: 'Poppins', sans-serif;
    color: $dark-text;
    .shell { max-width: $shell-width; margin: 0 auto; padding: 0 1.5rem; }
}

/* --- Hero --- */
.abo-hero {
    padding: 5rem 0;
    text-align: center;
    border-bottom: 1px solid $border-color;
    .kicker { color: $primary-orange; font-weight: 600; letter-spacing: 1px; font-size: 0.9rem; margin-bottom: 0.5rem; }
    h1 { font-size: 3.2rem; font-weight: 700; color: $dark-text; margin-bottom: 1rem; }
    p { font-size: 1.15rem; color: $light-text; max-width: 650px; margin: 0 auto; }
}

/* --- Section des offres avec sélecteur --- */
.offers-section {
    padding: 5rem 1.5rem;
}

.client-type-toggle {
    display: flex;
    justify-content: center;
    background-color: $light-orange-bg;
    border: 1px solid darken($light-orange-bg, 5%);
    border-radius: 50px;
    padding: 6px;
    max-width: 450px;
    margin: 0 auto 3.5rem auto;
    
    button {
        flex: 1;
        padding: 12px 20px;
        border: none;
        background-color: transparent;
        border-radius: 50px;
        font-weight: 600;
        font-size: 1rem;
        cursor: pointer;
        color: lighten($primary-orange, 15%);
        transition: all 0.3s ease;
        &.active {
            background-color: $primary-orange;
            color: white;
            box-shadow: 0 4px 15px rgba($primary-orange, 0.25);
        }
    }
}

.offers-content {
    animation: fadeIn 0.5s ease-out;
}

/* --- Vue Particulier --- */
.pricing-flow {
    display: flex;
    align-items: center;
    gap: 2rem;
    .plus-separator {
        svg { width: 40px; height: 40px; color: black; }
    }
}

.card {
    border: 1px solid $border-color;
    border-radius: $border-radius;
    padding: 2.5rem;
    flex: 1;
    h3 { font-size: 1.2rem; margin-bottom: 1.5rem; color: $dark-text; font-weight: 600; }
    .card-desc { font-size: 1rem; color: $light-text; line-height: 1.6; margin-bottom: 2rem; }
}

.base-offer {
    .price {
        font-size: 2.8rem; font-weight: 700; color: $dark-text; margin-bottom: 1.5rem;
        .period { font-size: 1rem; font-weight: 500; color: $light-text; margin-left: 0.5rem; }
    }
}

.features-list {
    list-style: none; padding: 0; text-align: left;
    li {
        display: flex; align-items: center; gap: 0.8rem; margin-bottom: 1rem; font-weight: 500; color: $dark-text;
        svg { width: 24px; height: 24px; flex-shrink: 0; path { fill: $primary-orange; } }
    }
    &.modules li {
        justify-content: space-between;
        padding: 0.8rem 0;
        border-bottom: 1px solid $border-color;
        &:last-child { border-bottom: none; }
        .module-price { font-weight: 600; color: $primary-orange; }
    }
}

/* --- Vue Pro --- */
.pro-view {
    text-align: center;
    background-color: white;
    padding: 4rem;
    border-radius: $border-radius;
    h3 { font-size: 2.5rem; color: $dark-text; margin-bottom: 1rem; }
    .pro-subtitle { max-width: 700px; margin: 0 auto 3rem auto; font-size: 1.1rem; color: $light-text; }
    
    .pro-features-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 1.5rem;
        text-align: left;
        
        .pro-feature-item {
            display: flex; align-items: flex-start; gap: 0.8rem; font-weight: 500;
            background-color: $background-color; padding: 1.5rem; border-radius: $border-radius;
            border: 1px solid $border-color;
            svg { width: 24px; height: 24px; flex-shrink: 0; path { fill: $primary-orange; } margin-top: 2px; }
        }
    }
}

/* ===================================
--- SECTION FORMULAIRE (MODIFIÉE) ---
===================================
*/
.form-section-wrapper {
    padding: 5rem 1.5rem;
    background-color: white; // Fond légèrement grisé pour la section
    
    .devis-form { 
        max-width: 800px; 
        margin: 0 auto; 
        background-color: $background-color; // Fond blanc pour le formulaire
        padding: 2.5rem;
        border-radius: $border-radius;
        border: 1px solid $border-color;
        box-shadow: 0 10px 30px rgba(0,0,0,0.05);
    }

    fieldset {
        border: none; 
        padding: 0; 
        margin: 0 0 2.5rem 0;
        
        &:last-of-type {
            margin-bottom: 0; // Pas de marge sur le dernier fieldset
        }

        legend {
            font-size: 1.5rem; 
            font-weight: 600; 
            color: $dark-text;
            width: 100%; 
            text-align: left; 
            margin-bottom: 2rem;
            padding-bottom: 1rem; 
            border-bottom: 1px solid $border-color;
        }
    }
    
    .form-grid {
        display: grid; 
        grid-template-columns: 1fr 1fr; 
        gap: 1.5rem;
    }
    
    input, textarea {
        width: 100%; 
        padding: 14px; 
        border: 1px solid darken($border-color, 5%);
        border-radius: $border-radius / 2; 
        background-color: $background-color; 
        font-size: 1rem;
        transition: all 0.2s ease;
        &::placeholder { color: #bdbdbd; }
        &:focus {
            outline: none; 
            border-color: $primary-orange;
            box-shadow: 0 0 0 3px rgba($primary-orange, 0.15);
        }
    }
    
    .checks {
        display: grid; 
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); 
        gap: 1rem; 
        margin-bottom: 1.5rem;
        label {
            cursor: pointer;
            input { display: none; }
            span {
                display: block; 
                padding: 12px; 
                border: 1px solid $border-color;
                border-radius: 50px; 
                font-weight: 500; 
                transition: all 0.2s ease; 
                text-align: center;
            }
            &:hover span { border-color: $primary-orange; color: $primary-orange; }
            input:checked + span { background-color: $primary-orange; border-color: $primary-orange; color: white; }
        }
    }

    textarea { resize: vertical; margin-top: 1rem; }

    .form-footer {
        text-align: center;
        margin-top: 2.5rem;
        padding-top: 2rem;
        border-top: 1px solid $border-color;
        
        .primary-btn {
            width: 100%; 
            max-width: 400px; 
            padding: 16px; 
            background-color: $primary-orange;
            color: white; 
            border: none; 
            border-radius: 50px; 
            font-size: 1.1rem;
            font-weight: 600; 
            cursor: pointer; 
            display: block; 
            margin: 0 auto; 
            transition: all 0.2s ease;
            &:hover { transform: translateY(-3px); box-shadow: 0 6px 20px rgba($primary-orange, 0.3); }
            &:disabled { background-color: #ccc; cursor: not-allowed; }
        }
        .check-consent {
            display: flex; 
            align-items: center; 
            justify-content: center;
            font-size: 0.85rem; 
            color: $light-text; 
            margin-top: 1.5rem; 
            cursor: pointer;
            input { margin-right: 10px; flex-shrink: 0; }
        }
    }

    .thank-you-card {
        padding: 3rem; 
        border: 1px solid $border-color;
        border-radius: $border-radius; 
        text-align: center;
        h3 { font-size: 2rem; color: $dark-text; }
    }
}


/* --- Responsive --- */
@media (max-width: 992px) {
    .pricing-flow { 
        flex-direction: column; 
        .plus-separator { 
            transform: rotate(90deg);
            margin: 1rem 0;
        } 
    }
}

@media (max-width: 768px) {
    .shell {
        padding: 0 1rem;
    }
    .abo-hero {
        padding: 3.5rem 0; 
        h1 { font-size: 2.2rem; }
        p { font-size: 1rem; }
    }
    .offers-section, .form-section-wrapper {
        padding: 3.5rem 1rem;
    }
    .client-type-toggle {
        max-width: 100%;
        button { font-size: 0.9rem; padding: 10px 15px; }
    }
    .card, .devis-form {
        padding: 1.5rem;
    }
    .pro-view {
        padding: 2.5rem 1.5rem;
        h3 { font-size: 2rem; }
    }
    .form-section-wrapper {
        fieldset legend { font-size: 1.6rem; margin-bottom: 2rem; }
        .form-grid { grid-template-columns: 1fr; gap: 1rem; }
    }
}

@media (max-width: 480px) {
    .abo-hero {
        padding: 3rem 0;
        h1 { font-size: 1.8rem; }
    }
    .client-type-toggle {
        padding: 4px;
        button { font-size: 0.8rem; }
    }
    .card {
        padding: 1.2rem;
        .price { font-size: 2.2rem; }
    }
    .checks {
        grid-template-columns: 1fr 1fr;
        gap: 0.8rem;
        span { padding: 10px; font-size: 0.85rem; }
    }
    .form-section-wrapper fieldset legend {
        font-size: 1.4rem;
    }
    .form-footer .primary-btn {
        padding: 14px;
        font-size: 1rem;
    }
}